(function(){"use strict";sap.ui.controller("sap.ovp.cards.table.Table",{onInit:function(){},onColumnListItemPress:function(e){var n=this.getEntityNavigationEntries(e.getSource().getBindingContext(),this.getCardPropertiesModel().getProperty("/annotationPath"));this.doNavigation(e.getSource().getBindingContext(),n[0]);},getCardItemsBinding:function(){var t=this.getView().byId("ovpTable");return t.getBinding("items");},onAfterRendering:function(){var c=this.getOwnerComponent().getComponentData();if(this.getCardPropertiesModel().getProperty("/layoutDetail")==="resizable"&&c.appComponent){var d=c.appComponent.getDashboardLayoutUtil();var $=jQuery("#"+d.getCardDomId(c.cardId));this.addColumnInTable($,{colSpan:this.getCardPropertiesModel().getProperty("/cardLayout/colSpan")});}else{var t=this.getView().byId("ovpTable");var a=t.getAggregation("columns");for(var C=0;C<3;C++){if(a[C]){a[C].setStyleClass("sapTableColumnShow").setVisible(true);}}}},getCardItemBindingInfo:function(){var l=this.getView().byId("ovpTable");return l.getBindingInfo("items");},addColumnInTable:function($,c){if(c.colSpan>=1){if(jQuery($).find("tr").length!=0){var t=sap.ui.getCore().byId(jQuery($).find(".sapMList").attr("id"));var a=t.getAggregation("columns");var C=c.colSpan;var I=C+1;for(var i=0;i<6;i++){if(a[i]){if(i<=I){a[i].setStyleClass("sapTableColumnShow").setVisible(true);}else{a[i].setStyleClass("sapTableColumnHide").setVisible(false);}}}}}},resizeCard:function(n,$,c){var N,a;try{var b=this.getCardItemBindingInfo(),a=n.rowSpan*n.iRowHeightPx-(c.headerHeight+c.dropDownHeight+c.itemHeight+2*n.iCardBorderPx);if(c.itemHeight){N=Math.floor(a/c.itemHeight);}this.addColumnInTable($,n);jQuery($).find(".sapOvpWrapper").css({height:((n.rowSpan*n.iRowHeightPx)-(c.headerHeight+2*n.iCardBorderPx))+"px"});b.length=N<1?1:N;b.actualLength=N<1?0:N;n.noOfItems=b.length;this.getCardItemsBinding().refresh();}catch(e){jQuery.sap.log.warning("OVP resize: "+this.cardId+" catch "+e.toString());}}});})();
